## 아이템 66. 네이티브 메서드는 신중히 사용하라

### 네이티브 메서드란?

- C나 C++같은 네이티브 프로그래밍 언어로 작성한 메서드

### 쓰임새

1. 레지스트리 같은 플랫폼 특화 기능
    - 자바가 성숙해지면서 네이티브 메서드 필요성이 줄어들고 있음
    - ex) process API → OS프로세스에 접근할 수 있게 됨
    - 하지만 대체할 자바 라이브러리가 없는 경우 네이티브 메서드 써야됨
2. 네이티브 코드로 작성된 기존 라이브러리를 사용 (권장X)
    - 마찬가지로 JVM이 발전하면서 성능 상 차이가 없음
    - GNU 다중 정밀 연산 라이브러리(GMP) 같은 고성능 다중 정밀 연산이 필요하면 네이티브 메서드 써도 좋음
3. 성능 개선을 목적으로 성능에 결정적인 영향을 주는 영역만 따로 네이티브 언어로 작성

### 크나큰 단점

- 네이티브 언어가 안전하지 않음
    - 네이티브 메서드를 사용하는 어플리케이션도 메모리 훼손 오류가 날 수 있음
- 이식성 낮음, 디버깅 어려움
- GC가 네이티브 메모리는 자동 회수, 추적하지 못함
    - 자바와 네이티브 코드의 경계를 넘나들때마다 비용 추가
- 접착 코드(glue code) 쓰는게 귀찮음
    - 접착 코드: 서로 다른 두 개 이상의 컴포넌트, 라이브러리, 모듈 또는 시스템을 통합하거나 연결하기 위한 코드
    - 두 코드를 연결하는 작업 정도로 생각하면 될듯